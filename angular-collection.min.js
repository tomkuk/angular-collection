/**
 * Angular Collection - The Collection module for AngularJS
 * @version v0.5.1 - 2014-12-03
 * @author Tomasz Kuklis
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(a,b){"use strict";b.module("ngCollection",[]).factory("$collection",["$filter","$parse",function(a,c){function d(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function e(){return d()+d()+"-"+d()+"-"+d()+"-"+d()+"-"+d()+d()+d()}function f(a,b){return b(a)}function g(a){a||(a={}),void 0!==a.comparator&&(this.comparator=a.comparator),this.idAttribute=a.idAttribute||this.idAttribute,this.current=null,this._reset(),this.initialize.apply(this,arguments)}return g.prototype={idAttribute:"id",initialize:function(){},add:function(a,c){c||(c={});var d,f,g,h;return f=c.sort!==!1,h=void 0!==c.index?c.index:this.array.length,a[this.idAttribute]||(a[this.idAttribute]=e()),(g=this.get(a))?b.extend(g,a):(d=a[this.idAttribute],this.hash[d]=a,this.array.splice(h,0,a),this.length+=1),f&&this.sort(),this},addAll:function(a,c){c||(c={});for(var d=c.sort!==!1,e=0;e<a.length;e++){var f=a[e];this.add(f,b.extend(c,{sort:!1}))}return d&&this.sort(),this},sort:function(b){var b=b||this.comparator;return b&&(this.array=a("orderBy")(this.array,b)),this},get:function(a){return null==a?void 0:this.hash[a[this.idAttribute]||a]},find:function(a,b,d){var e=a;if("string"==typeof a){var g=c(a);e=function(a){return d?g(a)==b:g(a)===b},e.prototype.value=b,e.prototype.deepCompare=d}for(var h=0;h<this.array.length;h++)if(f(this.array[h],e))return this.array[h];return void 0},where:function(a,b,d){var e=[],g=a;if("string"==typeof a){var h=c(a);g=function(a){return d?h(a)==b:h(a)===b},g.prototype.value=b,g.prototype.deepCompare=d}for(var i=0;i<this.array.length;i++)f(this.array[i],g)&&e.push(this.array[i]);return e},update:function(a){var c;return c=this.get(a),c&&b.extend(c,a),c||this.add(a),this},remove:function(a){var b;return b=this.array.indexOf(a),-1===b?this:(delete this.hash[a[this.idAttribute]],this.array.splice(b,1),this.length--,this)},removeAll:function(){for(var a=this.array.length-1;a>=0;a--)this.remove(this.at(a));return this},last:function(){return this.array[this.length-1]},at:function(a){return this.array[a]},size:function(){return this.array.length},all:function(){return this.array},_reset:function(){this.length=0,this.hash={},this.array=[]}},g.extend=function(a){var c,d=this;c=a&&a.hasOwnProperty("constructor")?a.constructor:function(){return d.apply(this,arguments)};var e=function(){this.constructor=c};return e.prototype=d.prototype,c.prototype=new e,a&&b.extend(c.prototype,a),c.extend=d.extend,c.getInstance=g.getInstance,c._super=d.prototype,c},g.getInstance=function(a){return new this(a)},g}])}(window,window.angular);