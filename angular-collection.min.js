/**
 * Angular Collection - The Collection module for AngularJS
 * @version v0.2.1 - 2013-05-02
 * @author Tomasz Kuklis
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
(function(t,r){"use strict";r.module("ngCollection",[]).factory("$collection",["$filter",function(t){function i(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function n(){return i()+i()+"-"+i()+"-"+i()+"-"+i()+"-"+i()+i()+i()}function e(t){t||(t={}),t.comparator!==void 0&&(this.comparator=t.comparator),this.idAttribute=t.idAttribute||this.idAttribute,this.current=null,this._reset(),this.initialize.apply(this,arguments)}return e.prototype={idAttribute:"id",initialize:function(){},add:function(t,i){i||(i={});var e,s,o,a,h;return s=this.comparator&&i.sort!==!1,o=r.isString(this.comparator)?this.comparator:null,s&&!a&&(a=!0),t[this.idAttribute]||(t[this.idAttribute]=n()),(h=this.get(t))?r.extend(h,t):(e=t[this.idAttribute],this.hash[e]=t,this.array.push(t),this.length+=1),a&&this.sort(),this},addAll:function(t,r){for(var i=0;t.length>i;i++){var n=t[i];this.add(n,r)}return this},sort:function(){return r.isString(this.comparator)&&(this.array=t("orderBy")(this.array,this.comparator)),this},get:function(t){return null==t?void 0:(this._idAttr||(this._idAttr=this.idAttribute),this.hash[t.id||t[this._idAttr]||t])},update:function(t){var i;return i=this.get(t),i&&r.extend(i,t),i||this.add(t),this},remove:function(t){var r;return delete this.hash[t.id],r=this.array.indexOf(t),this.array.splice(r,1),this.length--,this},removeAll:function(){for(var t=this.array.length-1;t>=0;t--)this.remove(this.at(t));return this},last:function(){return this.array[this.length-1]},at:function(t){return this.array[t]},size:function(){return this.array.length},all:function(){return this.array},_reset:function(){this.length=0,this.hash={},this.array=[]}},e.extend=function(t){var i,n=this;i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return n.apply(this,arguments)};var s=function(){this.constructor=i};return s.prototype=n.prototype,i.prototype=new s,t&&r.extend(i.prototype,t),i.extend=n.extend,i.getInstance=e.getInstance,i._super=n.prototype,i},e.getInstance=function(t){return new this(t)},e}])})(window,window.angular);